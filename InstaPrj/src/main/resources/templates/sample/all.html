<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<body>
<h1>For All</h1>
<!-- 헤더에서 아래와 같이 사용 -->
<sec:authorize access="isAnonymous()">로그인/회원가입</sec:authorize>
<sec:authorize access="isAuthenticated()">로그아웃/회원정보보기</sec:authorize>
<sec:authorize access="hasRole('admin')">관리자 페이지</sec:authorize>

<div sec:authorize="hasRole('USER')">Has USER_ROLE</div>
<div sec:authorize="hasRole('MANAGER')">Has USER_MANAGER</div>
<div sec:authorize="hasRole('ADMIN')">Has USER_ADMIN</div>
<fieldset sec:authorize="isAuthenticated()">
  <legend>Authenticated member can just see this page.</legend>
  <div>
    아래의 태그들은 로그인 되었을 때만 사용가능.<br>
    만약 fieldset 태그의 isAuthenticated 가 없이 사용한다면 에러발생.<br>
    에러와 함께 로그인하는 페이지로 자동 연결됨.<br>
    Authenticated username : <span sec:authentication="name"></span><br>
    Authenticated user's role : <span sec:authentication="principal.authorities"></span><br>
  </div>
</fieldset>
</body>
</html>